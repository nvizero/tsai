  <%= form_for(@role) do |f| %>

    <% if @role.errors.any? %>

        <div id="error_explanation"  style="display:none;">
          <% @role.errors.full_messages.each do |msg| %>
            <% @mss = "#{@mss}"+"#{msg}<br>\n" %>
          <% end %>
        </div>
     <% end %>

  <%= render 'comm/ckbox' , :mss => @mss%>


  <section class="content">
      <div class="row">
          <!-- left column -->
          <div class="col-md-12">
              <!-- general form elements -->
              <div class="box box-primary">
                  <div class="box-header">
                      <h3 class="box-title"><%=@table_title %></h3>

                  </div><!-- /.box-header -->
                  <!-- form start -->

                  <form role="form">
                      <div class="box-body">


                    <div class="form-group <% if !@role.errors[:title].blank? %> has-error <% end %> ">
                      <font color="red"><%= f.label :title ,'名稱' %></font>
                      <%= f.text_field :title ,:id=>"exampleInputFile",:class=>"form-control"  %>
                    </div>

                    <div class="form-group <% if !@role.errors[:text].blank? %> has-error <% end %> " >

                      <font color="red" ><%= f.label :text  ,'權限' %></font>
                      <br>

                      <% @aces.each do |ace| %>

                          <% if ace.id.to_i == 1  ||
                                ace.id.to_i == 5  ||
                                ace.id.to_i == 11 ||
                                ace.id.to_i == 15 ||
                                ace.id.to_i == 19 ||
                                ace.id.to_i == 23 ||
                                ace.id.to_i == 27 ||
                                ace.id.to_i == 31 ||
                                ace.id.to_i == 35 ||
                                ace.id.to_i == 41 ||
                                ace.id.to_i == 45 ||
                                ace.id.to_i == 53
                          %>
                          <div class="col-md-6" style="margin:10px 0px 10px 0px">
                        <% end %>
                      <input type="checkbox" name="point[<%=ace.id %>]" value="1" <%=role_checkbox(@role.text , ace.id) %> >
                        <%=ace.title %>
                        <br>

                        <% if ace.id.to_i == 4 ||
                            ace.id.to_i == 10 ||
                            ace.id.to_i == 14 ||
                            ace.id.to_i == 18 ||
                            ace.id.to_i == 22 ||
                            ace.id.to_i == 26 ||
                            ace.id.to_i == 30 ||
                            ace.id.to_i == 34 ||
                            ace.id.to_i == 40 ||
                            ace.id.to_i == 44 ||
                            ace.id.to_i == 52 ||
                            ace.id.to_i == 55
                        %>
                        </div>

                      <% end %>

                      <% end %>

                    </div>



</div><!-- /.box-body -->

<div class="box-footer">
    <button type="submit" class="btn btn-primary">確定</button>
    <%= link_to "取消", :back ,:class =>'btn btn-danger' %>
</div>

</form>
</div><!-- /.box -->
</div>
</div>
</section><!-- /.content -->
</aside><!-- /.right-side -->
<% end %>


<script src="/admin/js/jquery-2.1.4.min.js"></script>
<script type="text/javascript">
  $('document').ready(function(){
    var errors_msg =$('#error_explanation').html();

    if( errors_msg.length > 3 ){
      // alert( errors_msg );
      $('#ckbox-modal').modal('show');
    }


  })
</script>
