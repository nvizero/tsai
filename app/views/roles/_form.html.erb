


  <%= form_for(@role) do |f| %>

    <% if @role.errors.any? %>

        <div id="error_explanation"  style="display:none;">
          <% @role.errors.full_messages.each do |msg| %>
            <% @mss = "#{@mss}"+"#{msg}<br>\n" %>
          <% end %>
        </div>
     <% end %>

  <%= render 'comm/ckbox' , :mss => @mss%>


  <section class="content">
      <div class="row">
          <!-- left column -->
          <div class="col-md-6">
              <!-- general form elements -->
              <div class="box box-primary">
                  <div class="box-header">
                      <h3 class="box-title"><%=@table_title %></h3>

                  </div><!-- /.box-header -->
                  <!-- form start -->

                  <form role="form">
                      <div class="box-body">


                    <div class="form-group <% if !@role.errors[:title].blank? %> has-error <% end %> ">
                      <font color="red"><%= f.label :title ,'名稱' %></font>
                      <%= f.text_field :title ,:id=>"exampleInputFile",:class=>"form-control"  %>
                    </div>

                    <div class="form-group <% if !@role.errors[:text].blank? %> has-error <% end %> " >

                      <font color="red" ><%= f.label :text  ,'權限' %></font>
                      <br>

                      <% @aces.each do |ace| %>
                        <input type="checkbox" name="point[<%=ace.id %>]" value="1" <%=role_checkbox(@role.text , ace.id) %> >
                        <%=ace.title %><br>
                      <% end %>

                    </div>



</div><!-- /.box-body -->

<div class="box-footer">
    <button type="submit" class="btn btn-primary">確定</button>
</div>

</form>
</div><!-- /.box -->
</div>
</div>
</section><!-- /.content -->
</aside><!-- /.right-side -->
<% end %>


<script src="/admin/js/jquery-2.1.4.min.js"></script>
<script type="text/javascript">
  $('document').ready(function(){
    var errors_msg =$('#error_explanation').html();

    if( errors_msg.length > 3 ){
      // alert( errors_msg );
      $('#ckbox-modal').modal('show');
    }


  })
</script>
